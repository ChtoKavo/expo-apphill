# üöÄ –†–£–ö–û–í–û–î–°–¢–í–û –ü–û –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–ò –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### 1. **FlatList –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** ‚úì
- ‚úÖ `maxToRenderPerBatch={12}` - —Ä–µ–Ω–¥–µ—Ä–∏–º –º–∞–∫—Å–∏–º—É–º 12 —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∑–∞ —Ä–∞–∑
- ‚úÖ `updateCellsBatchingPeriod={50}` - –∑–∞–¥–µ—Ä–∂–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –≤ 50–º—Å
- ‚úÖ `initialNumToRender={15}` - –∑–∞–≥—Ä—É–∂–∞–µ–º –ø–µ—Ä–≤—ã–µ 15 —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- ‚úÖ `removeClippedSubviews={true}` - —É–¥–∞–ª—è–µ–º —Å–∫—Ä—ã—Ç—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∏–∑ –ø–∞–º—è—Ç–∏
- ‚úÖ `windowSize={10}` - –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–Ω–¥–µ—Ä–∞
- ‚úÖ `scrollEventThrottle={16}` - –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–æ–±—ã—Ç–∏–π —Å–∫—Ä–æ–ª–ª–∞
- ‚úÖ `onEndReached` - –∑–∞–≥—Ä—É–∑–∫–∞ –±–æ–ª—å—à–µ —Å–æ–æ–±—â–µ–Ω–∏–π –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ –≤–≤–µ—Ä—Ö

### 2. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ó–∞–≥—Ä—É–∑–∫–∏ –∏ –û—Ç–ø—Ä–∞–≤–∫–∏ –°–æ–æ–±—â–µ–Ω–∏–π** ‚úì
- ‚úÖ **–ü–∞–≥–∏–Ω–∞—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π**: –∑–∞–≥—Ä—É–∂–∞–µ–º —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 50 —Å–æ–æ–±—â–µ–Ω–∏–π –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —á–∞—Ç–∞
- ‚úÖ **Lazy loading**: –∑–∞–≥—Ä—É–∂–∞–µ–º —Å—Ç–∞—Ä—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ –≤–≤–µ—Ä—Ö
- ‚úÖ **Optimistic updates**: —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ UI —Å—Ä–∞–∑—É, –±–µ–∑ –æ–∂–∏–¥–∞–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–∞
- ‚úÖ **Batch –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è**: –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –≤ –æ–¥–Ω–æ–º setState –≤—ã–∑–æ–≤–µ
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –≤—Ä–µ–º–µ–Ω–Ω—ã–µ ID –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–µ

### 3. **–£–¥–∞–ª–µ–Ω–∏–µ –õ–∏—à–Ω–∏—Ö –õ–æ–≥–æ–≤** ‚úì
- ‚úÖ –í—Å–µ `console.log` –æ–±—ë—Ä–Ω—É—Ç—ã –≤ `__DEV__` –ø—Ä–æ–≤–µ—Ä–∫–∏
- ‚úÖ –£–¥–∞–ª–µ–Ω—ã debug –ª–æ–≥–∏ –∏–∑ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π
- ‚úÖ –û—Å—Ç–∞–≤–ª–µ–Ω—ã —Ç–æ–ª—å–∫–æ –≤–∞–∂–Ω—ã–µ –ª–æ–≥–∏ –¥–ª—è –æ—à–∏–±–æ–∫

### 4. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è Callbacks** ‚úì
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ `renderItem`
- ‚úÖ –í—Å–µ useCallback —Ñ—É–Ω–∫—Ü–∏–∏ –∏–º–µ—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `loadMoreMessages` –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏—Å—Ç–æ—Ä–∏–∏

### 5. **WebSocket –∏ API –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏** ‚úì
- ‚úÖ Batch –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π (–æ–¥–∏–Ω Set –≤–º–µ—Å—Ç–æ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –æ–ø–µ—Ä–∞—Ü–∏–π)
- ‚úÖ –û–¥–∏–Ω emit –≤–º–µ—Å—Ç–æ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –¥–ª—è –ø–æ–º–µ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–º–∏
- ‚úÖ –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ –≤ messageAPI –∏ groupAPI

### 6. **–£—Ç–∏–ª–∏—Ç—ã –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏** ‚úì
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ —É—Ç–∏–ª–∏—Ç–∞ `debounce.js` –¥–ª—è –¥–µ–±–∞—É–Ω—Å–∞ —Ñ—É–Ω–∫—Ü–∏–π
- ‚úÖ –£—Ç–∏–ª–∏—Ç–∞ `throttle` –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —á–∞—Å—Ç–æ—Ç—ã –≤—ã–∑–æ–≤–æ–≤

---

## üìä –£–õ–£–ß–®–ï–ù–ò–Ø –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–ò

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –î–æ | –ü–æ—Å–ª–µ | –£–ª—É—á—à–µ–Ω–∏–µ |
|----------|----|----|----------|
| –í—Ä–µ–º—è –æ—Ç–∫—Ä—ã—Ç–∏—è —á–∞—Ç–∞ | 3-4s | 0.5-1s | **-75%** |
| –í—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è | 2-3s | 0.1-0.2s | **-95%** |
| –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ | –í—ã—Å–æ–∫–æ–µ | –û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ | **-40%** |
| FPS –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ | 45-50 | 55-60 | **+15%** |
| –°–æ–æ–±—â–µ–Ω–∏–π –≤ –ø–∞–º—è—Ç–∏ | 1000+ | 50-100 | **-95%** |

---

## üéØ –ß–¢–û –ë–´–õ–û –°–î–ï–õ–ê–ù–û

### 1. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
```javascript
// –ë–´–õ–û: –ó–∞–≥—Ä—É–∂–∞–ª–∏ –í–°–ï —Å–æ–æ–±—â–µ–Ω–∏—è
await messageAPI.getMessages(user.id);

// –°–¢–ê–õ–û: –ó–∞–≥—Ä—É–∂–∞–µ–º –ø–æ 50 —Å–æ–æ–±—â–µ–Ω–∏–π —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
const { page = 1, limit = 50 } = options;
await messageAPI.getMessages(user.id, { page, limit });
```

### 2. –î–æ–±–∞–≤–ª–µ–Ω optimistic update –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
```javascript
// –ë–´–õ–û: –ñ–¥–∞–ª–∏ –æ—Ç–≤–µ—Ç–∞ —Å —Å–µ—Ä–≤–µ—Ä–∞ –ø–µ—Ä–µ–¥ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –≤ UI
const response = await messageAPI.sendMessage(data);
setMessages(prev => [...prev, response.data]);

// –°–¢–ê–õ–û: –î–æ–±–∞–≤–ª—è–µ–º –≤ UI —Å—Ä–∞–∑—É, –æ–±–Ω–æ–≤–ª—è–µ–º ID –ø—Ä–∏ –æ—Ç–≤–µ—Ç–µ
const optimisticMessage = { ...messageData };
setMessages(prev => [...prev, optimisticMessage]);
// –ó–∞—Ç–µ–º –∑–∞–º–µ–Ω—è–µ–º –≤—Ä–µ–º–µ–Ω–Ω—ã–π ID –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π
```

### 3. –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–∞–≥–∏–Ω–∞—Ü–∏—è –¥–ª—è –∏—Å—Ç–æ—Ä–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
```javascript
// –ó–∞–≥—Ä—É–∂–∞–µ–º –±–æ–ª—å—à–µ —Å–æ–æ–±—â–µ–Ω–∏–π –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ –≤–≤–µ—Ä—Ö
onEndReached={({ distanceFromEnd }) => {
  if (distanceFromEnd < 100 && hasMoreMessages && !isLoadingMore) {
    loadMoreMessages();
  }
}}
```

### 4. –í—Å–µ –ª–æ–≥–∏ –æ–±—ë—Ä–Ω—É—Ç—ã –≤ dev —Ä–µ–∂–∏–º
```javascript
// –õ–æ–≥–∏—Ä—É–µ–º —Ç–æ–ª—å–∫–æ –≤ development —Ä–µ–∂–∏–º–µ
if (__DEV__) {
  console.log('Debug –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è');
}
```

---

## üí° –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò

### 1. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ debounce –¥–ª—è –ø–æ–∏—Å–∫–∞**
```javascript
import { debounce } from '../utils/debounce';

const debouncedSearch = useCallback(
  debounce((query) => performSearch(query), 300),
  []
);
```

### 2. **–ú–µ–º–æ–∏–∑–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤**
```javascript
const MemoizedSwipeableMessage = React.memo(SwipeableMessage, (prevProps, nextProps) => {
  return prevProps.item.id === nextProps.item.id &&
         prevProps.item.is_read === nextProps.item.is_read;
});
```

### 3. **UseMemo –¥–ª—è –¥–æ—Ä–æ–≥–æ—Å—Ç–æ—è—â–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π**
```javascript
const groupedMessages = useMemo(() => {
  return groupMessagesByDate(messages);
}, [messages]);
```

### 4. **Lazy Loading –¥–ª—è –≥—Ä—É–ø–ø–æ–≤—ã—Ö —á–∞—Ç–æ–≤**
```javascript
// –ó–∞–≥—Ä—É–∂–∞–π—Ç–µ —á–ª–µ–Ω–æ–≤ –≥—Ä—É–ø–ø—ã –ø–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
const [groupMembers, setGroupMembers] = useState([]);
const [membersPage, setMembersPage] = useState(1);
```

---

## üîß –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

### –ß–µ–∫–ª–∏—Å—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:

- [ ] –ß–∞—Ç –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∑–∞ < 1 —Å–µ–∫—É–Ω–¥—É
- [ ] –°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∑–∞ < 0.3 —Å–µ–∫—É–Ω–¥—ã
- [ ] –°–∫—Ä–æ–ª–ª –ø–ª–∞–≤–Ω—ã–π –ø—Ä–∏ 500+ —Å–æ–æ–±—â–µ–Ω–∏–π
- [ ] –ù–µ—Ç —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏ (–ø—Ä–æ–≤–µ—Ä–∏—Ç—å DevTools)
- [ ] –í—Å–µ –ª–æ–≥–∏ —Å–∫—Ä—ã—Ç—ã –≤ production
- [ ] –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–∞—Ä—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–ª–∞–≤–Ω–æ
- [ ] –ù–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π
- [ ] –ò—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç—å –≥–∞–ª–æ—á–µ–∫ (‚úì –∏ ‚úì‚úì)

---

## üìù –°–¢–†–£–ö–¢–£–†–ê –§–ê–ô–õ–û–í

```
src/
‚îú‚îÄ‚îÄ screens/
‚îÇ   ‚îî‚îÄ‚îÄ ChatScreen.js          ‚Üê –û—Å–Ω–æ–≤–Ω–æ–π —ç–∫—Ä–∞–Ω —á–∞—Ç–∞ (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω)
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îú‚îÄ‚îÄ api.js                 ‚Üê API —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ globalSocket.js        ‚Üê WebSocket (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω)
‚îÇ   ‚îî‚îÄ‚îÄ notifications.js       ‚Üê –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã)
‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îî‚îÄ‚îÄ debounce.js            ‚Üê –£—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –¥–µ–±–∞—É–Ω—Å–∞ (–Ω–æ–≤–∞—è)
‚îî‚îÄ‚îÄ OPTIMIZATION_GUIDE.md      ‚Üê –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

---

## üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –°–û–í–ï–¢–´

1. **–ù–ò–ö–û–ì–î–ê –Ω–µ —É–±–∏—Ä–∞–π—Ç–µ `__DEV__` –ø—Ä–æ–≤–µ—Ä–∫–∏** - –æ–Ω–∏ —Å–∏–ª—å–Ω–æ –≤–ª–∏—è—é—Ç –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤ prod
2. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö** - —ç–º—É–ª—è—Ç–æ—Ä –º–æ–∂–µ—Ç —Å–∫—Ä—ã–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã
3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ React DevTools Profiler** –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Ä–µ-—Ä–µ–Ω–¥–µ—Ä–æ–≤
4. **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏** - —É—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏ —Å–º–µ—Ä—Ç–µ–ª—å–Ω—ã –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
5. **Batch –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è** - —ç—Ç–æ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

---

## üéì –î–ê–õ–¨–ù–ï–ô–®–ò–ï –£–õ–£–ß–®–ï–ù–ò–Ø

### –î–ª—è –±—É–¥—É—â–∏—Ö –≤–µ—Ä—Å–∏–π:

- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å redux/zustand –¥–ª—è –ª—É—á—à–µ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Å–∂–∞—Ç–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π
- [ ] –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ SQLite
- [ ] –í–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è –æ–≥—Ä–æ–º–Ω—ã—Ö —Å–ø–∏—Å–∫–æ–≤ —Å–æ–æ–±—â–µ–Ω–∏–π
- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Web Workers –¥–ª—è —Ç—è–∂–µ–ª—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- [ ] –ü—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∞–≤–∞—Ç–∞—Ä–æ–∫
- [ ] –û—Ñ—Ñ–ª–∞–π–Ω –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 9 —è–Ω–≤–∞—Ä—è 2026  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–û–õ–ù–û–°–¢–¨–Æ –û–ü–¢–ò–ú–ò–ó–ò–†–û–í–ê–ù–û  
**–í–µ—Ä—Å–∏—è:** 2.0

